;/*FB_PKG_DELIM*/

__d("useGroupsCometChatsEngagementImpressionLogger",["GroupsCometChatsEngagementLogger","react","usePartialViewImpression"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback;function a(a){var b=a.category_id,e=a.client_extras,f=a.event,g=a.group_id,i=a.parent_surface,j=a.source,k=a.surface,l=a.thread_id;a=h(function(){d("GroupsCometChatsEngagementLogger").log({action:"impression",category_id:b,client_extras:e,event:f,group_id:g,parent_surface:i,source:j,surface:k,thread_id:l})},[b,e,f,g,j,i,k,l]);return c("usePartialViewImpression")({onImpressionStart:a})}g["default"]=a}),98);
__d("MWSharedAttachmentsSectionHooks",["I64","Int64Hooks","LSIntEnum","LSThreadMediaGalleryGroup","MessagingAttachmentType","ReQL.bs","ReQLSubscription.bs","SortedAsyncIterable.bs","react","usePrevious","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i=h.useCallback,j=h.useEffect,k=h.useState;function a(a,b,d,e){var f=k(function(){return!1}),g=f[0],h=f[1],l=a.length,m=(f=c("usePrevious")(l))!=null?f:0,n=c("usePrevious")(b);j(function(){d===void 0&&e()},[d]);j(function(){var a=m!==l,c=n===!0&&!b;g&&(c||a)&&h(function(){return!1})},[l,b,g]);a=i(function(){if(!g){e();return h(function(){return!0})}},[g,e,h]);f=l>0||!g&&!b;return[g,a,f]}function l(a,b,e){var f=c("useReStore")(),g=d("ReQLSubscription.bs").useFirst(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(f.table("attachments_ranges_v2__generated")),{hd:a,tl:0}),function(a){return d("I64").equal(a.mediaGroup,b)})},[f,a,b]),"g7134l81"),h=g==null?void 0:g.minTimestampMs,i=g==null?void 0:g.hasMoreBefore,j=d("Int64Hooks").useMemoInt64(function(){if(h!=null)return d("ReQL.bs").filter(d("ReQL.bs").bounds(d("ReQL.bs").fromIndexDescending(f.table("attachments").index("fk_messages")),{NAME:"range",VAL:[{NAME:"greaterThanOrEqual",VAL:{hd:a,tl:{hd:h,tl:0}}},{NAME:"lessThanOrEqual",VAL:{hd:a,tl:{hd:d("I64").of_string("9999999999999"),tl:0}}}]}),e);else return d("SortedAsyncIterable.bs").empty()},[f,a,h,e]);return[j,g,h,i]}function b(a){var b=i(function(a){return d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").XMA))?a.defaultCtaType==="xma_web_url":!1},[]);a=l(a,d("LSIntEnum").ofNumber(c("LSThreadMediaGalleryGroup").LINKS),b);b=a[0];var e=a[1],f=a[2];a=a[3];b=d("ReQLSubscription.bs").useArray(b,"m1ihoje9");return[b,d("LSIntEnum").ofNumber(c("LSThreadMediaGalleryGroup").LINKS),e,f,a]}function e(a){var b=i(function(a){a=a.attachmentType;return d("I64").equal(a,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").IMAGE))||d("I64").equal(a,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").VIDEO))},[]);a=l(a,d("LSIntEnum").ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS),b);b=a[0];var e=a[1],f=a[2];a=a[3];b=d("ReQLSubscription.bs").useArray(b,"v6a4u2ls");return[b,d("LSIntEnum").ofNumber(c("LSThreadMediaGalleryGroup").PHOTOS_AND_VIDEOS),e,f,a]}function f(a){var b=i(function(a){return d("I64").equal(a.attachmentType,d("LSIntEnum").ofNumber(c("MessagingAttachmentType").FILE))},[]);a=l(a,d("LSIntEnum").ofNumber(c("LSThreadMediaGalleryGroup").FILES_ONLY),b);b=a[0];var e=a[1],f=a[2];a=a[3];b=d("ReQLSubscription.bs").useArray(b,"pzxf0p3t");return[b,d("LSIntEnum").ofNumber(c("LSThreadMediaGalleryGroup").FILES_ONLY),e,f,a]}g.useLoader=a;g.useQueryAttachments=l;g.useQueryLinkAttachments=b;g.useQueryMediaAttachments=e;g.useQueryFileAttachments=f}),98);
__d("useMAWLoadMoreThreadSharedAttachments",["I64","MAWBridgeSendAndReceive","MAWThreadId","Promise","promiseDone","react","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react").useCallback,i=d("I64").of_string("9999999999999");function a(a,e,f){var g=c("useReStore")(),j=e!=null&&e&&f!=null?f:i;return h(function(){if(a!=null){c("promiseDone")(d("MAWThreadId").ofThreadKey(g,a).then(function(a){return a!=null?d("MAWBridgeSendAndReceive").sendAndReceive("backend","loadMoreMedia",{minRowId:d("I64").to_int32(j),threadId:a}):b("Promise").resolve()}));return}},[g,a,j])}g["default"]=a}),98);