;/*FB_PKG_DELIM*/

__d("MWButton.react",["cr:2625","cr:2851","cr:5023","cr:5028","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){var c=a.loading,d=a.size,e=a.type;a=babelHelpers.objectWithoutPropertiesLoose(a,["loading","size","type"]);if(b("cr:2851")){var f=d===36;return h.jsx(b("cr:2851"),babelHelpers["extends"]({addOnPrimary:c===!0&&b("cr:5023")?h.jsx(b("cr:5023"),{color:"disabled",size:f?20:16}):void 0,size:f?"large":"medium",type:e==="destructive"?"fdsOverride_negative":e},a))}return b("cr:2625")?h.jsx(b("cr:2625"),babelHelpers["extends"]({addOnStart:c===!0&&b("cr:5028")?h.jsx(b("cr:5028"),{color:"grey",size:24}):void 0,size:d,type:e},a)):null}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MWTextPairing.react",["MDSTextPairing.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function a(a){return h.jsx(c("MDSTextPairing.react"),babelHelpers["extends"]({},a))}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);
__d("MAWIndexedDBDeletion",["FBLogger","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(globalThis.indexedDB!=null&&a!=null){a=globalThis.indexedDB.deleteDatabase(a);a.onsuccess=function(){c("FBLogger")("mpf_web_foundations").warn("Encryption db was deleted")};a.onblocked=function(){c("recoverableViolation")("[maw ear db] Cannot delete db: blocked","messenger_e2ee_web")};a.onerror=function(){c("recoverableViolation")("[maw ear db] Cannot delete db","messenger_e2ee_web")}}}g.deleteDB=a}),98);
__d("MAWIndexedDbMetadata",[],(function(a,b,c,d,e,f){"use strict";e="v1";var g="v1",h="v1",i="v1",j="messenger_web_"+e,k="messenger_web_encryption_"+g,l="messenger_web_signal_"+h,m="messenger_web_eb_lsdb_"+i;function a(a){return j+"_"+a}function b(a){return k+"_"+a}function c(a){return l+"_"+a}function d(a){return m+"_"+a}f.DB_NAME=j;f.ENCRYPTION_DB_NAME=k;f.SIGNAL_DB_NAME=l;f.EB_LSDB_NAME=m;f.dbName=a;f.encryptionDbName=b;f.signalDbName=c;f.ebLSDBName=d}),66);
__d("MAWDbMedia",[],(function(a,b,c,d,e,f){"use strict";b="Image";c="Video";d="Ptt";e="Gif";var g="Sticker",h="DocumentFile",i={DOCUMENT_FILE:h,GIF:e,IMAGE:b,PTT:d,STICKER:g,VIDEO:c};function a(a){return a}f.IMAGE=b;f.VIDEO=c;f.PTT=d;f.GIF=e;f.STICKER=g;f.DOCUMENT_FILE=h;f.MEDIA_TYPE=i;f.convertNumberToMediaId=a}),66);
__d("MAWDbXMA",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a}function b(a){return a}f.convertNumbersToXMAIds=a;f.convertNumberToXMAId=b}),66);
__d("MAWTransactionMode",[],(function(a,b,c,d,e,f){"use strict";a="r";b="rw";f.READONLY=a;f.READWRITE=b}),66);
__d("MAWErrorObject",["err"],(function(a,b,c,d,e,f,g){"use strict";function a(a){if(a instanceof Error)return a;else if(typeof a==="string")return c("err")(a);else return null}g.getErrorObject=a}),98);
__d("MAWEncyptionIndexedDbV2",["FBLogger","MAWErrorObject","MAWIndexedDBDeletion","MAWIndexedDbMetadata","MAWTransactionMode","Promise","err","unrecoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h="browserEncryptionMetaV2",i="version",j=null,k=null,l=null;function m(){if(j==null)throw c("err")("Encryption IndexDB should've been initialized");return j}function a(){return j!=null}function e(a){return new(b("Promise"))(function(b,e){if(j==null){if(indexedDB==null)return e();var f=function(){k!=null&&k()};l=d("MAWIndexedDbMetadata").encryptionDbName(a);var g=indexedDB.open(l);g.onupgradeneeded=function(a){a=a.target.result;if(!a.objectStoreNames.contains(h)){a=a.createObjectStore(h,{autoIncrement:!0,keyPath:"id"});a.createIndex(i,i,{unique:!0})}};g.onsuccess=function(a){var d=a.target.result;d.onversionchange=function(){d.close(),c("FBLogger")("mpf_web_foundations").info("EAR onversionchange triggered"),f()};j=d;b()};g.onerror=function(){e(g.error)}}else b()})}function f(a){k=k==null?a:k}function n(a){var b=d("MAWTransactionMode").READWRITE===a?"readwrite":"readonly";a=function(a){return function(){var e=m(),f=e.transaction(h,b),g=f.objectStore(h);for(var i=arguments.length,j=new Array(i),k=0;k<i;k++)j[k]=arguments[k];return a.apply(void 0,[g].concat(j))["catch"](function(a){a=d("MAWErrorObject").getErrorObject(a);throw c("unrecoverableViolation")("Error performing transaction in encryption transactor v2","messenger_e2ee_web",a?{error:a}:{})})}};return a}function o(){j!=null&&j.close(),d("MAWIndexedDBDeletion").deleteDB(l)}g.storeName=h;g.ENCRYPTION_MAW_STORES_INDEX=i;g.getEncryptionDB=m;g.isEncryptionDBInited=a;g.makeEncryptionDB=e;g.maybeSetEncryptionDbOnVersionChange=f;g.makeEncryptionMsgrTransactor=n;g.deleteEncryptionDB=o}),98);
__d("MAWBridgeFireAndForget",["MAWBridge","MAWWaitForBackendSetup"],(function(a,b,c,d,e,f,g){"use strict";function a(a,b,c,e){return d("MAWWaitForBackendSetup").runAfterBackendSetup(function(){d("MAWBridge").getBridge().fireAndForget(a,b,c,e)},b)}g.fireAndForget=a}),98);
__d("MAWMessageRequestUtil.bs",["I64","LSContactViewerRelationship","LSIntEnum","LSMessagingThreadTypeUtil"],(function(a,b,c,d,e,f,g){"use strict";function h(a){if(a==="pending")return!0;else return a==="other"}function a(a){if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return h(a.folderName);else return!1}function i(a,b){if(a.folderName==="pending"||a.folderName==="other")return!0;else if(a.folderName==="inbox"&&d("I64").equal(b.contactViewerRelationship,d("LSIntEnum").ofNumber(c("LSContactViewerRelationship").NOT_CONTACT)))return!d("I64").equal(a.lastActivityTimestampMs,d("I64").zero);else return!1}function j(a,b){if(b!=null)return i(a,b[1]);else return!1}function b(a,b){if(d("LSMessagingThreadTypeUtil").isOneToOne(a.threadType))return j(a,b);else return!1}e=[d("LSIntEnum").ofNumber(8),d("LSIntEnum").ofNumber(18),d("LSIntEnum").ofNumber(19),d("LSIntEnum").ofNumber(34),d("LSIntEnum").ofNumber(24),d("LSIntEnum").ofNumber(25),d("LSIntEnum").ofNumber(122)];f=[d("LSIntEnum").ofNumber(21),d("LSIntEnum").ofNumber(48)];var k=h;a=a;var l=i,m=j;b=b;e=e;f=f;g.isMessageRequestFolder=k;g.isOneOnOneMessageRequest=a;g.isMessageRequestV2=l;g.isMessageRequest=m;g.useIsOneOnOneMessageRequestV2=b;g.disabledThreadCapabilitiesForIncomingRequest=e;g.enabledThreadCapabilitiesForIncomingRequest=f}),98);
__d("MAWAttachmentBlob.react",["LSSuspense","MAWBridgeSendAndReceive","MAWDbMedia","MAWDbXMA","Promise","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map(),i=new Map();function j(a){var e=h.get(a);if(e!=null)if(e.TAG===0)return c("LSSuspense").throwErrorOrPromise(e.value);else return e.value;e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByMediaId",{mediaId:d("MAWDbMedia").convertNumberToMediaId(Number.parseInt(a,10))}).then(function(c){h.set(a,{TAG:1,value:URL.createObjectURL((c=c)!=null?c:void 0)});return b("Promise").resolve()})["catch"](function(d){h.set(a,{TAG:1,value:""});c("recoverableViolation")("Unable to getBlobUrlByMediaId","messenger_e2ee_web",{error:d});return b("Promise").resolve()});h.set(a,{TAG:0,value:e});return c("LSSuspense").throwErrorOrPromise(e)}function a(a){if(a!==void 0&&a.hasMedia!==!1)return j(a.attachmentFbid);else if(a!==void 0&&a.hasXma!==!1)return k(a,"preview");else return""}function k(a,e){if(a===void 0)return"";var f=i.get(a.attachmentFbid+e);if(f!=null)if(f.TAG===0)return c("LSSuspense").throwErrorOrPromise(f.value);else return f.value;f=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getBlobDataUrlByXMAId",{infoType:e,xmaId:d("MAWDbXMA").convertNumberToXMAId(Number.parseInt(a.attachmentFbid,10))}).then(function(c){i.set(a.attachmentFbid+e,{TAG:1,value:URL.createObjectURL((c=c)!=null?c:void 0)});return b("Promise").resolve()})["catch"](function(c){i.set(a.attachmentFbid+e,{TAG:1,value:""});return b("Promise").resolve()});i.set(a.attachmentFbid+e,{TAG:0,value:f});return c("LSSuspense").throwErrorOrPromise(f)}g.getAttachmentBlobNonOptional=j;g.getAttachmentBlob=a;g.getInfoUrlXMA=k}),98);
__d("MAWAttachmentThumbnail.bs",["LSSuspense","MAWBridgeSendAndReceive","MAWDbMedia","Promise","bs_belt_Option","bs_caml_format","bs_caml_option","recoverableViolation"],(function(a,b,c,d,e,f,g){"use strict";var h=new Map();function a(a){if(a==null)return"";if(a.hasMedia===!1)return"";var e=h.get(a.attachmentFbid);if(e!=null)return e.TAG===0?c("LSSuspense").throwErrorOrPromise(e._0):e._0;e=d("MAWBridgeSendAndReceive").sendAndReceive("backend","getThumbnailBlobDataUrlByMediaId",{mediaId:d("MAWDbMedia").convertNumberToMediaId(d("bs_caml_format").caml_int_of_string(a.attachmentFbid))}).then(function(d){h.set(a.attachmentFbid,{_0:c("bs_belt_Option").getExn(d==null?void 0:c("bs_caml_option").some(d)),TAG:1});return b("Promise").resolve()})["catch"](function(d){h.set(a.attachmentFbid,{_0:"",TAG:1});c("recoverableViolation")("Unable to getThumbnailBlobDataUrlByMediaId","messenger_e2ee_web",{error:c("bs_caml_option").some(d)});return b("Promise").resolve()});h.set(a.attachmentFbid,{_0:e,TAG:0});return c("LSSuspense").throwErrorOrPromise(e)}e=a;g.getThumbnailBlob=e}),98);
__d("LSThreadMediaGalleryGroup",[],(function(a,b,c,d,e,f){a=Object.freeze({PHOTOS_AND_VIDEOS:0,FILES_ONLY:1,LINKS:2});f["default"]=a}),66);
__d("ReStoreDecryptionFailure",[],(function(a,b,c,d,e,f){"use strict";var g="ReStoreDecryptionFailure";a=function(a){babelHelpers.inheritsLoose(b,a);function b(b,c){var d;b=b+" - Encrypted LSDB was unable to decrypt an entity for table "+c;d=a.call(this,b)||this;d.message=b;d.name=g;d.tableName=c;return d}return b}(babelHelpers.wrapNativeSuper(Error));f.ERROR_NAME=g;f.ReStoreDecryptionFailure=a}),66);