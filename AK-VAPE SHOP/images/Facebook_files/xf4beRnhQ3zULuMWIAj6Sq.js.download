;/*FB_PKG_DELIM*/

__d("MWChatStateV2IsFlyoutOpen.bs",[],(function(a,b,c,d,e,f){"use strict";function a(a){return a.openFlyoutWatermark!==0}f.isFlyoutOpen=a}),66);
__d("MWChatHeadPicture.bs",["ix","CometGlimmer.react","MWChatFacepile.react","MWChatProfile.react","MWIcon.react","fbicon","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b="x1cdi11e-B";var j={chatHeadIntroAnim:{animationDirection:"xpz12be",animationDuration:"x4b6v7d",animationFillMode:"x10e4vud",animationIterationCount:"x1v7wizp",animationName:"xxjl4ni",animationTimingFunction:"x84okpw",$$css:!0},dropShadow:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",boxShadow:"x1qeybcx",":hover_boxShadow":"x19xcq9t",$$css:!0},headGlimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xsdox4t",position:"x1n2onr6",width:"x1useyqa",$$css:!0},withBackground:{backgroundColor:"xcrg951",$$css:!0},withOverflowBackground:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",width:"x1useyqa",$$css:!0}};function a(a){var b=a.children,e=a.images,f=a.noFacepile;a=a.noDropShadow;f=f!=null?f:!1;a=a!=null?a:!1;var g=e.length;if(g!==1)if(g!==0)if(f)return i.jsxs("div",{className:c("stylex")(a?!1:j.dropShadow,j.withOverflowBackground),children:[i.jsx(c("MWIcon.react"),{icon:d("fbicon")._(h("481920"),24)}),b]});else return i.jsx(c("MWChatFacepile.react"),{borderBetweenImages:!1,firstParticipantURI:e[0],secondParticipantURI:e[1],shadow:!0,size:48,children:b});else return i.jsx("div",{className:"xcrg951 x14yjl9h xudhj91 x18nykt9 xww2gxu xsdox4t x1n2onr6 x1useyqa",children:i.jsx(c("CometGlimmer.react"),{index:1,theme:"dark",children:b})});g=e[0];return i.jsx("div",{className:c("stylex")(a?!1:j.dropShadow,j.chatHeadIntroAnim),children:i.jsx(c("MWChatProfile.react"),{size:48,src:g,children:b})})}a.displayName=a.name+" [from "+f.id+"]";e=a;g.chatheadAppear=b;g.make=e}),98);
__d("MWV2ChatHeadButton.react",["CometPressable.react","react"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react"),i={button:{appearance:"xjyslct",backgroundColor:"xjbqb8w",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"xsdox4t",marginTop:"xdj266r",marginEnd:"x11i5rnm",marginBottom:"xat24cr",marginStart:"x1mh8g0r",transitionDuration:"xx6bhzk",transitionProperty:"x11xpdln",transitionTimingFunction:"x9lcvmn",width:"x1useyqa",$$css:!0},container:{alignItems:"x6s0dn4",display:"x78zum5",height:"xsdox4t",justifyContent:"xl56j7k",marginBottom:"xyorhqc",position:"x10l6tqk",width:"x1useyqa",$$css:!0}};function a(a){var b=a.children;a=a.style;return h.jsx("div",{className:"x6s0dn4 x78zum5 xsdox4t xl56j7k xyorhqc x10l6tqk x1useyqa",style:a,children:b})}a.displayName=a.name+" [from "+f.id+"]";function b(a,b){var d=a.ariaDescribedBy,e=a.ariaLabel,f=a.children,g=a.onFocusChange,j=a.onHoverChange,k=a.onHoverIn,l=a.onHoverOut,m=a.onPress;a=a.testid;return h.jsx(c("CometPressable.react"),{"aria-describedby":d,"aria-label":e,onFocusChange:g,onHoverChange:j,onHoverIn:k,onHoverOut:l,onPress:m,overlayDisabled:!0,ref:b,testid:void 0,xstyle:i.button,children:f})}b.displayName=b.name+" [from "+f.id+"]";e=h.forwardRef(b);g.MWV2ChatHeadButtonContainer=a;g.MWV2ChatHeadButton=e}),98);
__d("MWV2ChatHeadCloseButton.bs",["fbt","ix","CometPressable.react","MWIcon.react","fbicon","react"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react"),k={closeButton:{alignItems:"x6s0dn4",backgroundColor:"xcrg951",borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",display:"x78zum5",end:"x1adoouj",height:"x1qx5ct2",justifyContent:"xl56j7k",opacity:"xg01cxk",position:"x10l6tqk",top:"x1fo6t33",transform:"x1f85oc2",transitionDuration:"x19bguh7",transitionProperty:"x6o7n8i",width:"xw4jnvo",$$css:!0},visible:{opacity:"x1hc1fzr",transform:"x3oybdh",$$css:!0}};function a(a){var b=a.isVisible,e=a.onFocusChange,f=a.onHoverChange;a=a.onPress;return j.jsx(c("CometPressable.react"),{"aria-label":h._("__JHASH__SolP4Av4egw__JHASH__"),onFocusChange:e,onHoverChange:f,onPress:a,xstyle:function(a){return[k.closeButton,b||a.focused?k.visible:!1]},children:j.jsx(c("MWIcon.react"),{icon:d("fbicon")._(i("478231"),12)})})}a.displayName=a.name+" [from "+f.id+"]";b=a;g.make=b}),98);
__d("MWV2ChatHeadFlyout.bs",["fbt","CometBadge.react","LSThreadTitle.bs","Locale","MWLSThreadSnippetForDisplay","MWPIsThreadUnread.bs","MWText.react","bs_caml_option","react","stylex"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={container:{backgroundColor:"xcrg951",borderTopStartRadius:"x1lq5wgf",borderTopEndRadius:"xgqcy7u",borderBottomEndRadius:"x30kzoy",borderBottomStartRadius:"x9jhf4c",bottom:"x1ey2m1c",boxShadow:"x1ot33o7",boxSizing:"x9f619",display:"x78zum5",end:"x92rtbv",flexDirection:"xdt5ytf",height:"xnnlda6",maxWidth:"x256u9z",minWidth:"xktpd3l",paddingEnd:"x1iji9kk",paddingStart:"x1sln4lm",position:"x10l6tqk",$$css:!0},containerWithSubtitle:{height:"xwzfr38",$$css:!0},gradientLTR:{backgroundImage:"x1ov1ned",$$css:!0},gradientRTL:{backgroundImage:"xwntvv8",$$css:!0},openChatArrowPointer:{borderTopEndRadius:"xevpo8y",bottom:"x1doy451",end:"x1923su1",height:"xlup9mm",position:"x10l6tqk",width:"x1kky2od",$$css:!0},openChatArrowPointerShadow:{boxShadow:"x1ot33o7",$$css:!0},spacer:{flexGrow:"x1iyjqo2",$$css:!0}},k=d("Locale").isRTL(),l=k?-45:45;function a(a){var b=a.id,e=a.subtitle;a=a.thread;var f=d("MWLSThreadSnippetForDisplay").MWLSThreadSnippetForDisplay(a),g=e!=null;return i.jsxs("div",{"data-testid":void 0,id:b,children:[i.jsx("div",{className:"xevpo8y x1doy451 x1923su1 xlup9mm x10l6tqk x1kky2od x1ot33o7",style:{transform:"rotate("+l+"deg)"}}),i.jsxs("div",{className:c("stylex")(j.container,g?j.containerWithSubtitle:!1),children:[i.jsx("div",{className:"x1iyjqo2"}),i.jsx("div",{"aria-hidden":!0,children:i.jsx(c("MWText.react"),{color:"primary",numberOfLines:1,type:"headlineEmphasized4",children:i.jsx(d("LSThreadTitle.bs").make,{thread:a})})}),e!=null?i.jsxs(i.Fragment,{children:[i.jsx("div",{className:"x1iyjqo2"}),i.jsx(c("MWText.react"),{color:"secondary",numberOfLines:1,type:"headline4",children:c("bs_caml_option").valFromOption(e)})]}):null,i.jsx("div",{className:"x1iyjqo2"}),i.jsxs(c("MWText.react"),{color:"secondary",numberOfLines:1,type:"body3",children:[d("MWPIsThreadUnread.bs").isThreadUnread(a)?i.jsx(c("CometBadge.react"),{color:"blue",label:h._("__JHASH__l0d8BOpfm06__JHASH__").toString()}):null,f]}),i.jsx("div",{className:"x1iyjqo2"})]}),i.jsx("div",{className:"xevpo8y x1doy451 x1923su1 xlup9mm x10l6tqk x1kky2od"+(k?" xwntvv8":" x1ov1ned"),style:{transform:"rotate("+l+"deg)"}})]})}a.displayName=a.name+" [from "+f.id+"]";b=a;e=k;f=l;a=b;g.isRTL=e;g.rotation=f;g.make=a}),98);
__d("MWV2ChatHeadTypingIndicator.bs",["I64","MWChatTypingIndicator.react","ReQL.bs","ReQLSubscription.bs","ServerTime","bs_caml_splice_call","bs_curry","clearTimeout","react","setTimeout","useReStore"],(function(a,b,c,d,e,f,g){"use strict";var h=d("react");function i(a){var b=c("useReStore")();return d("ReQLSubscription.bs").useArray(h.useMemo(function(){return d("ReQL.bs").filter(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("typing_indicator")),{hd:a,tl:0}),function(a){return d("ServerTime").getMillis()<d("I64").to_float(a.expirationTimestampMs)})},[b,d("I64").to_string(a)]),"zuax9rf0")}function a(a){a=a.threadKey;var b=h.useState(function(){return!1}),e=b[1],f=i(a);h.useEffect(function(){c("bs_curry")._1(e,function(){return f.length>0});var a=f.map(function(a){return d("I64").to_float(a.expirationTimestampMs)});a=c("bs_caml_splice_call").spliceApply(Math.max,[a]);a=a-d("ServerTime").getMillis();var b=c("setTimeout")(function(){return c("bs_curry")._1(e,function(){return!1})},a);return function(){c("clearTimeout")(b)}},[e,f]);if(b[0])return h.jsx("div",{className:"x6s0dn4 xcrg951 x1a2cdl4 xnhgr82 x1qt0ttw xgk8upj x1ey2m1c x78zum5 xds687c x1qx5ct2 xl56j7k x10l6tqk x1td3qas",children:h.jsx(c("MWChatTypingIndicator.react"),{})});else return null}b=a;g.make=b}),98);
__d("MWV2ChatHeadUnreadMessageCountBadge.bs",["fbt","CometNumberedBadge.react","I64","MWPActor.react","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","react","stylex","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react"),j={badgeHidden:{opacity:"xg01cxk",$$css:!0},badgeShrunk:{transform:"x1f85oc2",$$css:!0},unreadBadge:{end:"x1adoouj",position:"x10l6tqk",top:"x1fo6t33",transitionDuration:"x19bguh7",transitionProperty:"x6o7n8i",$$css:!0}};function k(a){var b=c("useReStore")(),e=d("MWPActor.react").useActor(),g=d("ReQLSubscription.bs").useFirst(i.useMemo(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(b.table("threads")),{hd:a,tl:0}),function(c){return d("ReQLSuspense").toArray(d("ReQL.bs").filter(d("ReQL.bs").bounds(d("ReQL.bs").take(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(b.table("messages")),{hd:a,tl:0}),20),{NAME:"greaterThan",VAL:{hd:c.lastReadWatermarkTimestampMs,tl:0}}),function(a){return!d("I64").equal(a.senderId,e)})).length})},[b,d("I64").to_string(e),d("I64").to_string(a)]),"j7p9a23k",f.id+":47");if(g!=null)return g;else return 0}function a(a){var b=a.isVisible;a=a.threadKey;a=k(a);if(a>0)return i.jsx("div",{"aria-label":h._("__JHASH__oUEWSJWvKe9__JHASH__",[h._plural(a,"number")]),className:c("stylex")(j.unreadBadge,b?!1:j.badgeHidden),children:i.jsx(c("CometNumberedBadge.react"),{value:a})});else return i.jsx("div",{"aria-hidden":!0,className:"xg01cxk x1f85oc2"})}b=a;g.make=b}),98);
__d("MWV2ChatHead.react",["fbt","CometContextualLayer.react","LSMediaUrl.bs","LSMessagingThreadTypeUtil","MWCMInboxHeaderCommunityGroupName.react","MWCMThreadTypes.react","MWChatHeadPicture.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatStateV2IsFlyoutOpen.bs","MWFacepileBadge.react","MWFacepileGetContactsToShow.bs","MWPActor.react","MWPGetThreadTitle.bs","MWV2ChatHeadButton.react","MWV2ChatHeadCloseButton.bs","MWV2ChatHeadFlyout.bs","MWV2ChatHeadTypingIndicator.bs","MWV2ChatHeadUnreadMessageCountBadge.bs","MWV2EnsureThatChatTabExists.bs","ReQL","ReQLSuspense","profilePhotoUtils","react","useCometUniqueID","useMWV2PreloadThread","useReStore"],(function(a,b,c,d,e,f,g,h){"use strict";var i=d("react");b=d("react");var j=b.useRef,k=b.useState;function l(a,b){var c=d("MWPActor.react").useActor(),e=a.threadName;if(e!==void 0)return h._("__JHASH__8WUxbAIePCk__JHASH__",[h._param("name of conversation",e)]);a=(e=d("MWPGetThreadTitle.bs").computeThreadTitle(void 0,a,b,c))!=null?e:"";return h._("__JHASH__WVlVng4Euk___JHASH__",[h._param("chat participants",a)])}function m(a,b){var c=d("MWPActor.react").useActor(),e=d("LSMediaUrl.bs").Thread.threadPictureUrl(a);return e!==void 0?[e]:d("MWFacepileGetContactsToShow.bs").getContactsToShow(a,b,c).map(function(a){return d("LSMediaUrl.bs").Contact.profilePictureUrl(a)})}function n(a){var b=a.onFocusChange,e=a.onHoverChange,f=a.style,g=a.tab;a=a.thread;var h=c("useReStore")(),n=d("MWChatStateV2.bs").useDispatch(),o=function(){return n(d("MWChatStateActions.bs").maximizeTab(Date.now(),g.tabId))},p=a.threadKey,q=k(!1),r=q[0],s=q[1];q=k(!1);var t=q[0],u=q[1];q=function(){return n(d("MWChatStateActions.bs").closeTab(Date.now(),g.tabId))};var v=d("LSMessagingThreadTypeUtil").isSecure(a.threadType),w=d("ReQLSuspense").useArray(function(){return d("ReQL").leftJoin(d("ReQL").fromTableAscending(h.table("participants")).getKeyRange(p),d("ReQL").fromTableAscending(h.table("contacts"))).take(8)},[h,p],"mq7l8b0s"),x=j(null),y=d("MWChatStateV2IsFlyoutOpen.bs").isFlyoutOpen(g),z=c("useCometUniqueID")(),A=l(a,w);w=w.map(function(a){return a[1]});w=m(a,w);var B=d("profilePhotoUtils").getBadgeSizeAndStrokeWidth(48),C=d("profilePhotoUtils").getBadgePosition(24);v=c("useMWV2PreloadThread")(p,v);var D=v[0];v=v[1];var E=d("MWCMThreadTypes.react").isJoinedCMThread(a.threadType);E=E?i.jsx(c("MWCMInboxHeaderCommunityGroupName.react"),{thread:a}):null;return i.jsxs(d("MWV2ChatHeadButton.react").MWV2ChatHeadButtonContainer,{style:f,children:[i.jsxs(d("MWV2ChatHeadButton.react").MWV2ChatHeadButton,{ariaDescribedBy:z,ariaLabel:A.toString(),onFocusChange:function(a){u(a),b(a)},onHoverChange:function(a){s(a),e(a)},onHoverIn:D,onHoverOut:v,onPress:o,children:[i.jsx("div",{ref:x,children:i.jsxs(d("MWChatHeadPicture.bs").make,{images:w,children:[i.jsx(d("MWV2ChatHeadUnreadMessageCountBadge.bs").make,{isVisible:!r&&!t,threadKey:p}),i.jsx("div",{className:"x10l6tqk",style:{bottom:C.bottom,left:C.left,right:C.right,transform:C.transform},children:i.jsx(c("MWFacepileBadge.react"),{size:B[0],thread:a})})]})}),r||t||y?i.jsx(c("CometContextualLayer.react"),{contextRef:x,children:i.jsx(d("MWV2ChatHeadFlyout.bs").make,{id:z,subtitle:E,thread:a})}):null,i.jsx(d("MWV2ChatHeadTypingIndicator.bs").make,{threadKey:p})]}),i.jsx(d("MWV2ChatHeadCloseButton.bs").make,{isVisible:r||t,onFocusChange:u,onHoverChange:s,onPress:q})]})}n.displayName=n.name+" [from "+f.id+"]";function a(a){var b=a.onFocusChange,e=a.onHoverChange,f=a.style,g=a.tab;a=a.threadKeyDescriptor;var h=c("useReStore")(),j=a.clientThreadKey,k=a.threadKey;d("MWV2EnsureThatChatTabExists.bs").useHook(k,a.threadType);a=d("ReQLSuspense").useFirst(function(){return d("ReQL").fromTableAscending(h.table("threads")).getKeyRange(k)},[h,k],"tle4xl88");var l=d("ReQLSuspense").useFirst(function(){return j!=null?d("ReQL").fromTableAscending(h.table("threads").index("clientThreadKey")).getKeyRange(j):d("ReQL").empty()},[h,j],"wb8nvb6x");l=(a=(a=a)!=null?a:l)!=null?a:null;return l&&i.jsx(n,{onFocusChange:b,onHoverChange:e,style:f,tab:g,thread:l})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);/*FB_PKG_DELIM*/
__d("CometDTPAppV2LiveQuery_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="8821909454550621"}),null);
__d("CometDTPAppV2LiveQuery$Parameters",["CometDTPAppV2LiveQuery_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometDTPAppV2LiveQuery_facebookRelayOperation"),metadata:{live:{config_id:"relay_dtp_activity"}},name:"CometDTPAppV2LiveQuery",operationKind:"query",text:null}};e.exports=a}),null);
__d("CometDTPAppV2Query_facebookRelayOperation",[],(function(a,b,c,d,e,f){e.exports="6695726493777861"}),null);
__d("CometDTPAppV2Query$Parameters",["CometDTPAppV2Query_facebookRelayOperation"],(function(a,b,c,d,e,f){"use strict";a={kind:"PreloadableConcreteRequest",params:{id:b("CometDTPAppV2Query_facebookRelayOperation"),metadata:{},name:"CometDTPAppV2Query",operationKind:"query",text:null}};e.exports=a}),null);
__d("DTPCometRootV2.entrypoint",["CometDTPAppV2LiveQuery$Parameters","CometDTPAppV2Query$Parameters","JSResourceForInteraction","WebPixelRatio"],(function(a,b,c,d,e,f,g){"use strict";a={getPreloadProps:function(a){var b;return{queries:{appLiveQueryReference:{options:{},parameters:c("CometDTPAppV2LiveQuery$Parameters"),variables:{scale:d("WebPixelRatio").get()}},appQueryReference:{options:{},parameters:c("CometDTPAppV2Query$Parameters"),variables:{album_id:(b=a.routeParams.album_id)!=null?b:"",data_id:(b=a.routeParams.data_id)!=null?b:"",scale:d("WebPixelRatio").get()}}}}},root:c("JSResourceForInteraction")("DTPCometRootV2.react").__setRef("DTPCometRootV2.entrypoint")};b=a;g["default"]=b}),98);
__d("MWV2ChatOverflowHead.bs",["fbt","ix","CometContextualLayer.react","CometGlimmer.react","CometListCellGlimmer.react","CometMenuItemBase.react","CometTextWithEntities.react","Int64Hooks","LSMediaUrl.bs","LSThreadTitle.bs","MWChatHeadPicture.bs","MWChatStateActions.bs","MWChatStateV2.bs","MWChatTextTransform.bs","MWFacepileGetContactsToShow.bs","MWIcon.react","MWMenu.react","MWPActor.react","MWText.react","MWV2ChatHeadButton.react","MWV2EnsureThatChatTabExists.bs","ReQL.bs","ReQLSubscription.bs","ReQLSuspense","bs_belt_Option","bs_caml","fbicon","react","recoverableViolation","stylex","useReStore"],(function(a,b,c,d,e,f,g,h,i){"use strict";var j=d("react");b=d("react");b.useMemo;var k=b.useRef,l=b.useState;function m(a){var b=d("MWPActor.react").useActor(),e=c("useReStore")();return c("bs_belt_Option").getWithDefault(d("ReQLSubscription.bs").useFirst(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").map(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(e.table("threads")),{hd:a,tl:0}),function(f){return d("ReQLSuspense").toArray(d("ReQL.bs").filter(d("ReQL.bs").bounds(d("ReQL.bs").take(d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableDescending(e.table("messages")),{hd:a,tl:0}),20),{NAME:"greaterThan",VAL:{hd:f.lastReadWatermarkTimestampMs,tl:0}}),function(a){return c("bs_caml").i64_neq(a.senderId,b)})).length})},[e,b,a]),"80pqqr79",f.id+":61"),0)}function n(a){a=a.thread;var b=m(a.threadKey);return j.jsxs(j.Fragment,{children:[j.jsx(d("LSThreadTitle.bs").make,{thread:a}),j.jsx(c("CometTextWithEntities.react"),{text:h._("__JHASH__-HzxiMQUhNs__JHASH__",[h._param("unread message count",String(b))]),transforms:d("MWChatTextTransform.bs").epdTextTransforms})]})}var o={auxVisible:{visibility:"xnpuxes",$$css:!0},auxWrapper:{display:"x78zum5",visibility:"xlshs6z",$$css:!0}};function p(a){var b=a.closeTab,e=a.isItemHovered,f=a.setItemIsHovered;return j.jsx("div",{className:c("stylex")(o.auxWrapper,e?o.auxVisible:!1),children:j.jsx(c("MWIcon.react"),{"aria-label":h._("__JHASH__LLeka0bmVM0__JHASH__"),color:"secondary",icon:d("fbicon")._(i("478231"),12),onHoverIn:function(){return f(!0)},onHoverOut:function(){return f(!1)},onPress:b})})}p.displayName=p.name+" [from "+f.id+"]";function q(a){var b=a.descriptor,e=a.setParentHoverState,g=a.tab,h=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(h.table("threads")),{hd:b.threadKey,tl:0})},[h,b.threadKey]),"jhalufvy",f.id+":199");var i=d("MWChatStateV2.bs").useDispatch();d("MWV2EnsureThatChatTabExists.bs").useHook(b.threadKey,b.threadType);var k=l(!1),m=k[0],o=k[1];return a!=null?j.jsx(c("CometMenuItemBase.react"),{aux:j.jsx(p,{closeTab:function(){return i(d("MWChatStateActions.bs").closeTab(Date.now(),g.tabId))},isItemHovered:m,setItemIsHovered:o,tab:g}),onClick:function(){e(!1);return i(d("MWChatStateActions.bs").maximizeTab(Date.now(),g.tabId))},onHoverIn:function(){return o(!0)},onHoverOut:function(){return o(!1)},primaryText:j.jsx(n,{thread:a})}):j.jsx("div",{className:"xc9qbxq x5w4yej",children:j.jsx(c("CometListCellGlimmer.react"),{imageStyle:"none"})})}q.displayName=q.name+" [from "+f.id+"]";function r(a){var b=a.excessHeads,d=a.setParentHoverState;return j.jsx(c("MWMenu.react"),{size:"full",truncate:!0,withArrow:!0,children:b.map(function(a){var b=a.tabType;return b.TAG!==0?j.jsx(q,{descriptor:b._0,setParentHoverState:d,tab:a},String(a.tabId)):c("recoverableViolation")("Compose tab shouldn't be part of excess tabs","messenger_web_product")})})}r.displayName=r.name+" [from "+f.id+"]";function s(a){var b=a.count;a=a.thread;a=d("MWFacepileGetContactsToShow.bs").useHook(a).map(function(a){return d("LSMediaUrl.bs").Contact.profilePictureUrl(a)});return j.jsx(d("MWChatHeadPicture.bs").make,{images:a,noDropShadow:!0,noFacepile:!0,children:j.jsx("div",{className:"x6s0dn4 x18l40ae x14yjl9h xudhj91 x18nykt9 xww2gxu x78zum5 xsdox4t xl56j7k x10l6tqk x13vifvy x1useyqa",children:j.jsx(c("MWText.react"),{color:"white",type:"bodyLink3",children:h._("__JHASH__RM0bWy2OLZa__JHASH__",[h._param("chat count",String(b))])})})})}s.displayName=s.name+" [from "+f.id+"]";var t={glimmer:{borderTopStartRadius:"x14yjl9h",borderTopEndRadius:"xudhj91",borderBottomEndRadius:"x18nykt9",borderBottomStartRadius:"xww2gxu",height:"x5yr21d",width:"xh8yej3",$$css:!0}};function u(a){var b=a.count,e=a.tab;d("MWV2EnsureThatChatTabExists.bs").useHook(e.threadKey,e.threadType);var g=c("useReStore")();a=d("ReQLSubscription.bs").useFirst(d("Int64Hooks").useMemoInt64(function(){return d("ReQL.bs").getKeyRange(d("ReQL.bs").fromTableAscending(g.table("threads")),{hd:e.threadKey,tl:0})},[g,e.threadKey]),"84l3pvxk",f.id+":352");return a!=null?j.jsx(s,{count:b,thread:a}):j.jsx(c("CometGlimmer.react"),{index:1,theme:"dark",xstyle:t.glimmer})}u.displayName=u.name+" [from "+f.id+"]";function a(a){var b=a.excessHeads,e=a.onHoverChange;a=a.style;var f=l(!1),g=f[0],i=f[1];f=b.length;var m=k(null);if(f<=0)return null;var n=b[0].tabType,o;n.TAG===0?(c("recoverableViolation")("Compose tab shouldn't be part of excess tabs","messenger_web_product"),o=null):o=j.jsx(u,{count:f,tab:n._0});return j.jsx(d("MWV2ChatHeadButton.react").MWV2ChatHeadButtonContainer,{style:a,children:j.jsx(d("MWV2ChatHeadButton.react").MWV2ChatHeadButton,{ariaLabel:h._("__JHASH__cpB5BWXmx9z__JHASH__",[h._param("chat count",String(f))]),ref:m,children:j.jsxs("div",{onMouseEnter:function(){i(!0),e(!0)},onMouseLeave:function(){i(!1),e(!1)},children:[o,g&&j.jsx(c("CometContextualLayer.react"),{align:"middle",contextRef:m,position:"end",children:j.jsx(r,{excessHeads:b,setParentHoverState:i})})]})})})}a.displayName=a.name+" [from "+f.id+"]";g["default"]=a}),98);